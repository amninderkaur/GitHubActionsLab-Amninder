name: Dependent Jobs Workflow

on:
  push:
    branches: [ "main" ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Print build message
        run: echo "Building application..."

      - name: Simulate build
        run: |
          echo "Compiling..."
          sleep 3
          echo "Build complete"

  test:
    needs: build
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Print test message
        run: echo "Running tests..."

      - name: Simulate tests
        run: |
          echo "Executing tests..."
          sleep 2
          echo "Tests finished successfully!"

  deploy:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - name: Print deploy message
        run: echo "Deploying application..."
      
      - name: Simulate deployment
        run: |
          echo "Deploying to production..."
          sleep 2
          echo "Deployment complete âœ…"





name: Environment Variables and Secrets

on:
  workflow_dispatch:

env:
  AWS_REGION: us-east-1
  ENVIRONMENT: production

jobs:
  deploy-to-aws:
    runs-on: ubuntu-latest
    env:
      DEPLOYMENT_NAME: MyAppDeployment

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Print workflow-level env vars
        run: |
          echo "Region: $AWS_REGION"
          echo "Environment: $ENVIRONMENT"

      - name: Print masked secrets
        run: |
          echo "AWS Access Key: ${{ secrets.AWS_ACCESS_KEY_ID }}"
          echo "AWS Secret Key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}"

      - name: Set and use step-level variable
        run: |
          export STEP_VAR="step_value"
          echo "Step variable is $STEP_VAR"

      - name: Demonstrate variable scopes
        run: |
          echo "Workflow ENV: $ENVIRONMENT"
          echo "Job ENV: $DEPLOYMENT_NAME"
          echo "Secret example (masked): ${{ secrets.AWS_ACCESS_KEY_ID }}"



name: Multi-Platform Testing

on:
  pull_request:
    branches: [ "main" ]

jobs:
  ubuntu-job:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Show OS info
        run: uname -a

      - name: Create and read file
        run: |
          echo "Running on Ubuntu" > os.txt
          cat os.txt

  windows-job:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v4

      - name: Show OS info
        run: systeminfo

      - name: Create and read file
        run: |
          echo Running on Windows > os.txt
          type os.txt

  macos-job:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v4

      - name: Show OS info
        run: uname -a

      - name: Create and read file
        run: |
          echo "Running on macOS" > os.txt
          cat os.txt


